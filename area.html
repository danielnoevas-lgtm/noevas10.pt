<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8">
  <title>Área Pessoal — Noevas10</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<nav class="navbar container"><div class="logo">Noevas10</div><div class="nav-links"><a href="index.html">Página Inicial</a><a href="sobre.html">Sobre Mim</a><a href="projetos.html">Projetos</a><a href="contactos.html">Contactos</a><a class="active" href="area.html">Área Pessoal</a></div></nav>

<main class="container">
  <h1>Área Pessoal</h1>

  <div id="authBox" class="card">
    <h3>Registar / Login (falso)</h3>
    <p class="small">Cria uma conta local (os dados ficam no teu browser)</p>

    <label>Nome</label><input type="text" id="regNome">
    <label>Email</label><input type="email" id="regEmail">
    <label>Password</label><input type="password" id="regPass">
    <button class="btn" id="regBtn">Registar</button>
    <div style="margin-top:12px"><small>Já tens conta? Faz login abaixo</small></div>

    <label style="margin-top:10px">Email</label><input type="email" id="loginEmail">
    <label>Password</label><input type="password" id="loginPass">
    <button class="btn secondary" id="loginBtn">Login</button>
  </div>

  <div id="profileBox" class="card" style="display:none">
    <h3>Ficha do Cliente</h3>
    <p class="small">Preenche a tua ficha — isto fica no teu browser</p>

    <label>Nome</label><input type="text" id="pNome">
    <label>Idade</label><input type="text" id="pIdade">
    <label>Localidade (cidade)</label><input type="text" id="pLocalidade">
    <label>Profissão</label><input type="text" id="pProfissao">
    <label>Objetivos (curto prazo)</label><textarea id="pObjCurto"></textarea>
    <label>Objetivos (longo prazo)</label><textarea id="pObjLongo"></textarea>

    <div class="row">
      <button class="btn" id="saveProfile">Guardar Ficha</button>
      <button class="btn secondary" id="logout">Sair</button>
    </div>
  </div>
</main>

<script>
function showProfile(){
  document.getElementById('authBox').style.display='none';
  document.getElementById('profileBox').style.display='block';
  const u = JSON.parse(localStorage.getItem('site_user')||'null');
  if(u){
    document.getElementById('pNome').value=u.nome||'';
    document.getElementById('pIdade').value=u.idade||'';
    document.getElementById('pLocalidade').value=u.localidade||'';
    document.getElementById('pProfissao').value=u.profissao||'';
    document.getElementById('pObjCurto').value=u.objCurto||'';
    document.getElementById('pObjLongo').value=u.objLongo||'';
  }
}
document.getElementById('regBtn').addEventListener('click',()=>{
  const nome=document.getElementById('regNome').value;
  const email=document.getElementById('regEmail').value;
  const pass=document.getElementById('regPass').value;
  if(!nome||!email||!pass){alert('Preenche os campos');return;}
  localStorage.setItem('user_account',JSON.stringify({nome,email,pass}));
  alert('Conta criada! Faz login abaixo.');
});
document.getElementById('loginBtn').addEventListener('click',()=>{
  const email=document.getElementById('loginEmail').value;
  const pass=document.getElementById('loginPass').value;
  const acc=JSON.parse(localStorage.getItem('user_account')||'null');
  if(!acc||acc.email!==email||acc.pass!==pass){alert('Credenciais inválidas');return;}
  // criar espaço de utilizador
  localStorage.setItem('site_user',JSON.stringify({nome:acc.nome,email:acc.email}));
  showProfile();
});
document.getElementById('saveProfile').addEventListener('click',()=>{
  const u=JSON.parse(localStorage.getItem('site_user')||'{}');
  u.nome=document.getElementById('pNome').value;
  u.idade=document.getElementById('pIdade').value;
  u.localidade=document.getElementById('pLocalidade').value;
  u.profissao=document.getElementById('pProfissao').value;
  u.objCurto=document.getElementById('pObjCurto').value;
  u.objLongo=document.getElementById('pObjLongo').value;
  localStorage.setItem('site_user',JSON.stringify(u));
  alert('Ficha guardada!');
});
document.getElementById('logout').addEventListener('click',()=>{localStorage.removeItem('site_user');document.getElementById('authBox').style.display='block';document.getElementById('profileBox').style.display='none';});
</script>
