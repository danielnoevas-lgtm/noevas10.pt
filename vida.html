<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Projeto de Vida</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
textarea {
    width: 100%;
    min-height: 90px;
    border-radius: 8px;
    padding: 10px;
    margin-bottom: 20px;
}
.button {
    padding: 14px 22px;
    border-radius: 10px;
    background: #8b00ff;
    color: #fff;
    border: none;
    cursor: pointer;
    width: 100%;
    margin-top: 15px;
    font-size: 16px;
}
</style>

</head>

<body>

<nav class="glass-nav">
  <div class="nav-container">
    <div class="logo">Noevas10</div>
    <ul class="nav-links">
      <li><a href="index.html">InÃ­cio</a></li>
      <li><a href="sobre.html">Sobre Mim</a></li>
      <li><a href="projetos.html" class="active">Projetos</a></li>
      <li><a href="contactos.html">Contactos</a></li>

      <li id="loginLink"><a href="login.html">Login</a></li>
      <li id="profileLink" style="display:none;"><a href="profile.html">Perfil</a></li>
      <li id="logoutLink" style="display:none;"><a href="#" onclick="logoutHandler()">Sair</a></li>
    </ul>
  </div>
</nav>

<section class="container" style="padding-top:120px;">
<h1>Projeto de Vida</h1>

<form id="formProjeto">
<div id="perguntas"></div>

<button type="button" class="button" onclick="submeterWhatsApp()">ðŸ“© Enviar para WhatsApp</button>
<button type="button" class="button" onclick="gerarPDF()">ðŸ“„ Baixar PDF</button>

</form>
</section>

<script>
const perguntas = [
"Como imaginas a tua vida ideal daqui a 10 anos?",
"Quais sÃ£o os teus valores essenciais?",
"Quais sÃ£o as pessoas mais importantes da tua vida?",
"O que te inspira profundamente?",
"Se fosses remover 3 coisas da tua vida hoje, o que seriam?",
"Qual Ã© o teu maior propÃ³sito?",
"O que te impede de viver a tua vida ideal?",
"Que habilidades precisas desenvolver para o teu futuro?",
"Quais sÃ£o os teus 3 maiores sonhos?",
"O que te faz sentir verdadeiramente vivo(a)?",
"Que impacto queres deixar no mundo?",
"O que estÃ¡s a fazer hoje que o teu eu do futuro agradeceria?",
"Quais medos precisas superar?",
"Que tipo de pessoa queres ser?",
"Como defines sucesso pessoal?",
"O que te traz paz interior?",
"Qual Ã© a tua missÃ£o na vida?",
"Quais sÃ£o as tuas prioridades espirituais ou morais?",
"O que aconteceria se continuasses a tua vida exatamente como estÃ¡?",
"O que estÃ¡s disposto(a) a mudar a partir de hoje?"
];

let html = "";
perguntas.forEach((p,i)=>{
  html += `<label><strong>${i+1}. ${p}</strong></label><textarea id="p${i}"></textarea>`;
});
document.getElementById("perguntas").innerHTML = html;

function submeterWhatsApp(){
let texto = "Projeto de Vida - Respostas:\n\n";
perguntas.forEach((p,i)=>{
    texto += `${i+1}. ${p}\nResposta: ${document.getElementById("p"+i).value}\n\n`;
});

window.open(
  "https://wa.me/351931760077?text=" + encodeURIComponent(texto),
  "_blank"
);
}

async function gerarPDF(){
const { jsPDF } = window.jspdf;
const pdf = new jsPDF();

pdf.setFontSize(18);
pdf.text("Projeto de Vida", 10, 15);
pdf.setFontSize(12);

let y = 30;
perguntas.forEach((p,i)=>{
pdf.text(`${i+1}. ${p}`, 10, y);
y += 7;
pdf.text("Resposta: " + document.getElementById("p"+i).value, 10, y);
y += 12;

if(y > 270){
    pdf.addPage();
    y = 20;
}
});

pdf.save("Projeto_de_Vida.pdf");
}
</script>

<script>
(function(){
  const user = localStorage.getItem("site_session");
  if(user){
    document.getElementById("loginLink").style.display = "none";
    document.getElementById("profileLink").style.display = "inline-block";
    document.getElementById("logoutLink").style.display = "inline-block";
  }
})();
</script>

</body>
</html>
